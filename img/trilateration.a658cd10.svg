<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="641" height="889"><defs/><g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g><rect fill="white" stroke="none" x="0" y="0" width="641" height="889"/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="16.5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="263.3277460472135" y="24.50280495" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Trilateration</text></g><g/><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 123.93590360398437 95.887643371 L 123.93590360398437 889.778523751" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 449.99455364747394 95.887643371 L 449.99455364747394 889.778523751" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/></g><g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 72.8120691685039 51.782594461 L 175.05973803946483 51.782594461 L 175.05973803946483 95.887643371 L 72.8120691685039 95.887643371 L 72.8120691685039 51.782594461 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="90.5357647490039" y="79.55244007099999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">REST API</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 399.2751763042786 51.782594461 L 500.71393099066927 51.782594461 L 500.71393099066927 95.887643371 L 399.2751763042786 95.887643371 L 399.2751763042786 51.782594461 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="416.9988718847786" y="79.55244007099999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">trilaterator</text></g></g><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 8.16760165 128.558049971 L 225.00252258796874 128.558049971 L 239.70420555796875 143.259732941 L 239.70420555796875 166.12901756099998 L 8.16760165 166.12901756099998 L 8.16760165 128.558049971 M 225.00252258796874 128.558049971 L 225.00252258796874 143.259732941 L 239.70420555796875 143.259732941" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="31.036886269999997" y="151.42733459099995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">publish client and server info</text></g><g><g><rect fill="white" stroke="none" x="151.69469666588546" y="190.63182251099997" width="270.5410639196875" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="151.69469666588546" y="206.96702581099996" width="237.1409632116797" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="154.14497716088545" y="205.33350548099995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">every 5 seconds: get clients and servers,</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="154.14497716088545" y="221.66870878099994" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">on publish of new device refresh list</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 449.99455364747394 228.20279010099998 L 126.65843748731771 228.20279010099998" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="6.53408132"/><g transform="translate(123.93590360398437,228.20279010099998) translate(-123.93590360398437,-228.20279010099998)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 137.54857302065105 221.39645539266664 L 123.93590360398437 228.20279010099998 L 137.54857302065105 235.00912480933331 Z"/></g></g><g><g><rect fill="white" stroke="none" x="143.26589417565108" y="252.70559505099996" width="287.3986689001562" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="145.71617467065107" y="267.40727802099997" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Get environment coefficients for default env</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 449.99455364747394 273.94135934099995 L 126.65843748731771 273.94135934099995" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="6.53408132"/><g transform="translate(123.93590360398437,273.94135934099995) translate(-123.93590360398437,-273.94135934099995)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 137.54857302065105 267.1350246326666 L 123.93590360398437 273.94135934099995 L 137.54857302065105 280.7476940493333 Z"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 346.45244035315756 298.44416429099994 L 538.8349839717904 298.44416429099994 L 553.5366669417904 313.1458472609999 L 553.5366669417904 336.01513188099995 L 346.45244035315756 336.01513188099995 L 346.45244035315756 298.44416429099994 M 538.8349839717904 298.44416429099994 L 538.8349839717904 313.1458472609999 L 553.5366669417904 313.1458472609999" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="369.32172497315753" y="321.3134489109999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">save information globally</text></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 292.6908360440755 404.6229857409999 L 592.5965882808724 404.6229857409999 L 607.2982712508724 419.3246687109999 L 607.2982712508724 572.8755797309999 L 292.6908360440755 572.8755797309999 L 292.6908360440755 404.6229857409999 M 592.5965882808724 404.6229857409999 L 592.5965882808724 419.3246687109999 L 607.2982712508724 419.3246687109999" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="315.5601206640755" y="427.4922703609999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">foreach client: </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="315.5601206640755" y="443.8274736609999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">    foreach server belonging to client:</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="315.5601206640755" y="460.1626769609999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">        fetch recent measurements </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="315.5601206640755" y="476.49788026099986" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">        -&gt; attach to server</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="315.5601206640755" y="492.83308356099985" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"></text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="315.5601206640755" y="509.16828686099984" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">        call member to get latest</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="315.5601206640755" y="525.5034901609998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"></text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="315.5601206640755" y="541.8386934609998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">    sort servers by RSSI property</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="315.5601206640755" y="558.1738967609998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">    call trilat handler with [0:2] of server list</text></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 282.49755296302084 597.378384681 L 602.7898713619271 597.378384681 L 617.4915543319271 612.0800676509999 L 617.4915543319271 683.9549621709999 L 282.49755296302084 683.9549621709999 L 282.49755296302084 597.378384681 M 602.7898713619271 597.378384681 L 602.7898713619271 612.0800676509999 L 617.4915543319271 612.0800676509999" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="305.3668375830208" y="620.2476693009999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">select best 3 RSSI with [0:2] of sorted server</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="305.3668375830208" y="636.5828726009998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">      convert RSSI to distances</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="305.3668375830208" y="652.9180759009998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">      -&gt; call distance triple handler</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="305.3668375830208" y="669.2532792009998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"></text></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 280.18187913489584 732.960572071 L 605.1055451900521 732.960572071 L 619.8072281600521 747.662255041 L 619.8072281600521 786.866742961 L 280.18187913489584 786.866742961 L 280.18187913489584 732.960572071 M 605.1055451900521 732.960572071 L 605.1055451900521 747.662255041 L 619.8072281600521 747.662255041" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="303.0511637548958" y="755.829856691" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Run scipy.optimize on distances to determine</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="303.0511637548958" y="772.165059991" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">optimal X, Y coordinates</text></g><g><g><rect fill="white" stroke="none" x="206.29020905602218" y="811.3695479109999" width="161.35003913941406" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="208.74048955102216" y="826.0712308809999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Save position in MySQL</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 449.99455364747394 832.605312201 L 126.65843748731771 832.605312201" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(123.93590360398437,832.605312201) translate(-123.93590360398437,-832.605312201)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 137.54857302065105 825.7989774926666 L 123.93590360398437 832.605312201 L 137.54857302065105 839.4116469093333 Z"/></g></g><g><g/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 274.32995131302084 360.51793683099993 L 625.659155981927 360.51793683099993 L 625.659155981927 708.457767121 L 274.32995131302084 708.457767121 L 274.32995131302084 360.51793683099993 Z" stroke-miterlimit="10" stroke-width="2.3336004714285714" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 274.32995131302084 360.51793683099993 L 274.32995131302084 380.12018079099994 L 382.64963464641926 380.12018079099994 L 392.45075662641926 370.31905881099993 L 392.45075662641926 360.51793683099993 L 274.32995131302084 360.51793683099993" stroke-miterlimit="10" stroke-width="2.3336004714285714" stroke-dasharray=""/><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="290.66515461302083" y="373.58609947099995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Every 500ms:</text></g></g><g/><g/></g></svg>