<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="862" height="899"><defs/><g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g><rect fill="white" stroke="none" x="0" y="0" width="862" height="899"/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="16.5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="219.6855125552305" y="24.50280495" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Current collection and processing algorithm</text></g><g/><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 114.54077726121093 95.887643371 L 114.54077726121093 899.0895896319997" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 386.69819917914583 315.922831822 L 386.69819917914583 841.9163780819997" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 569.5929850868932 95.887643371 L 569.5929850868932 779.8426055419997" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/></g><g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 53.6245462803203 51.782594461 L 175.45700824210155 51.782594461 L 175.45700824210155 95.887643371 L 53.6245462803203 95.887643371 L 53.6245462803203 51.782594461 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="71.34824186082031" y="79.55244007099999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">BLE Scanner</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 509.4963570723112 51.782594461 L 629.6896131014753 51.782594461 L 629.6896131014753 95.887643371 L 509.4963570723112 95.887643371 L 509.4963570723112 51.782594461 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="527.2200526528112" y="79.55244007099999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">HttpManager</text></g></g><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 19.960722987890627 128.558049971 L 194.41914856453124 128.558049971 L 209.12083153453125 143.259732941 L 209.12083153453125 166.12901756099998 L 19.960722987890627 166.12901756099998 L 19.960722987890627 128.558049971 M 194.41914856453124 128.558049971 L 194.41914856453124 143.259732941 L 209.12083153453125 143.259732941" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="42.83000760789062" y="151.42733459099995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Initialize BLE Scanner</text></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 41.957846706152345 190.631822511 L 172.42202484626952 190.631822511 L 187.12370781626953 205.333505481 L 187.12370781626953 244.537993401 L 41.957846706152345 244.537993401 L 41.957846706152345 190.631822511 M 172.42202484626952 190.631822511 L 172.42202484626952 205.333505481 L 187.12370781626953 205.333505481" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="64.82713132615234" y="213.50110713099997" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Start Scanner,</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="64.82713132615234" y="229.83631043099996" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">run indefinetely</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 286.0038920263802 270.4292906315 L 487.3925063319115 270.4292906315 L 487.3925063319115 314.5343395415 L 286.0038920263802 314.5343395415 L 286.0038920263802 270.4292906315 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="303.7275876068802" y="298.1991362415" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">MeasurementWebservice</text></g><g><g><rect fill="white" stroke="none" x="133.8707678328776" y="271.24605079649996" width="132.80313362183594" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="136.32104832787758" y="285.94773376649994" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">onDeviceDisovery()</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 114.54077726121093 292.4818150865 L 283.2813581430469 292.4818150865" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(286.0038920263802,292.4818150865) translate(-286.0038920263802,-292.4818150865)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 272.3912226097135 285.67548037816664 L 286.0038920263802 292.4818150865 L 272.3912226097135 299.2881497948333 Z"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 262.78745642926305 340.42563677199996 L 495.9072589590287 340.42563677199996 L 510.6089419290287 355.12731974199994 L 510.6089419290287 377.99660436199997 L 262.78745642926305 377.99660436199997 L 262.78745642926305 340.42563677199996 M 495.9072589590287 340.42563677199996 L 495.9072589590287 355.12731974199994 L 510.6089419290287 355.12731974199994" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="285.656741049263" y="363.29492139199994" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Process discovered device info</text></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 261.95349494244664 402.49940931199995 L 496.7412204458451 402.49940931199995 L 511.4429034158451 417.20109228199993 L 511.4429034158451 456.40558020199995 L 261.95349494244664 456.40558020199995 L 261.95349494244664 402.49940931199995 M 496.7412204458451 402.49940931199995 L 496.7412204458451 417.20109228199993 L 511.4429034158451 417.20109228199993" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="284.8227795624466" y="425.3686939319999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">add the measurement to queue</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="284.8227795624466" y="441.7038972319999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">and invoke store member</text></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 8.16760165 480.90838515199994 L 206.21226990242187 480.90838515199994 L 220.91395287242187 495.6100681219999 L 220.91395287242187 534.8145560419999 L 8.16760165 534.8145560419999 L 8.16760165 480.90838515199994 M 206.21226990242187 480.90838515199994 L 206.21226990242187 495.6100681219999 L 220.91395287242187 495.6100681219999" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="31.036886269999997" y="503.7776697719999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Scanner is still in memory</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="31.036886269999997" y="520.112873072" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">and BTC task still exists</text></g><g><g><rect fill="white" stroke="none" x="406.0281897508125" y="559.3173609919999" width="144.23480476441406" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="408.4784702458125" y="574.0190439619998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">invoke POST request</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 386.69819917914583 580.5531252819999 L 566.8704512035599 580.5531252819999" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="6.53408132"/><g transform="translate(569.5929850868932,580.5531252819999) translate(-569.5929850868932,-580.5531252819999)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 555.9803156702266 573.7467905736665 L 569.5929850868932 580.5531252819999 L 555.9803156702266 587.3594599903332 Z"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 476.25128072812373 605.0559302319998 L 648.2330064756628 605.0559302319998 L 662.9346894456628 619.7576132019998 L 662.9346894456628 642.6268978219998 L 476.25128072812373 642.6268978219998 L 476.25128072812373 605.0559302319998 M 648.2330064756628 605.0559302319998 L 648.2330064756628 619.7576132019998 L 662.9346894456628 619.7576132019998" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="499.1205653481237" y="627.9252148519998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Create new WifiClient</text></g><g><g><rect fill="white" stroke="none" x="588.9229756585598" y="667.1297027719997" width="246.05299629273438" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="591.3732561535599" y="681.8313857419997" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">POST /measurement/store HTTP/1.1</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 569.5929850868932 688.3654670619998 L 851.5834286396276 688.3654670619998" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(854.305962522961,688.3654670619998) translate(-854.305962522961,-688.3654670619998)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 840.6932931062943 681.5591323536664 L 854.305962522961 688.3654670619998 L 840.6932931062943 695.1718017703331 Z"/></g></g><g><g><rect fill="white" stroke="none" x="645.9308568231106" y="712.8682720119997" width="132.03723396363281" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="648.3811373181106" y="727.5699549819997" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Backend Response</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 854.305962522961 734.1040363019997 L 572.3155189702265 734.1040363019997" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="6.53408132"/><g transform="translate(569.5929850868932,734.1040363019997) translate(-569.5929850868932,-734.1040363019997)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 583.2056545035599 727.2977015936664 L 569.5929850868932 734.1040363019997 L 583.2056545035599 740.910371010333 Z"/></g></g><g><g><rect fill="white" stroke="none" x="424.3567572556953" y="758.6068412519996" width="107.57766975464844" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="426.8070377506953" y="773.3085242219996" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">return response</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 569.5929850868932 779.8426055419997 L 389.42073306247914 779.8426055419997" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="6.53408132"/><g transform="translate(386.69819917914583,779.8426055419997) translate(-386.69819917914583,-779.8426055419997)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 400.3108685958125 773.0362708336663 L 386.69819917914583 779.8426055419997 L 400.3108685958125 786.648940250333 Z"/></g></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 554.8913021168933 765.1409225719997 L 584.2946680568932 794.5442885119996 M 584.2946680568932 765.1409225719997 L 554.8913021168933 794.5442885119996" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 264.80962744977086 804.3454104919997 L 493.8850879385209 804.3454104919997 L 508.58677090852086 819.0470934619997 L 508.58677090852086 841.9163780819997 L 264.80962744977086 841.9163780819997 L 264.80962744977086 804.3454104919997 M 493.8850879385209 804.3454104919997 L 493.8850879385209 819.0470934619997 L 508.58677090852086 819.0470934619997" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="287.67891206977083" y="827.2146951119997" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Print response Code and body</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 371.99651620914585 827.2146951119997 L 401.3998821491458 856.6180610519997 M 401.3998821491458 827.2146951119997 L 371.99651620914585 856.6180610519997" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g></g><g/><g/></g></svg>