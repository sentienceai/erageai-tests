<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="604" height="938"><defs/><g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g><rect fill="white" stroke="none" x="0" y="0" width="604" height="938"/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="16.5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="244.7898165123014" y="24.50280495" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Trilateration</text></g><g/><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 125.9724102568164 95.887643371 L 125.9724102568164 938.7841336509999" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 452.03106030030597 95.887643371 L 452.03106030030597 938.7841336509999" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/></g><g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 74.84857582133593 51.782594461 L 177.09624469229686 51.782594461 L 177.09624469229686 95.887643371 L 74.84857582133593 95.887643371 L 74.84857582133593 51.782594461 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="92.57227140183593" y="79.55244007099999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">REST API</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 401.31168295711063 51.782594461 L 502.7504376435013 51.782594461 L 502.7504376435013 95.887643371 L 401.31168295711063 95.887643371 L 401.31168295711063 51.782594461 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="419.03537853761065" y="79.55244007099999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">trilaterator</text></g></g><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 8.16760165 128.558049971 L 229.0755358936328 128.558049971 L 243.7772188636328 143.259732941 L 243.7772188636328 166.12901756099998 L 8.16760165 166.12901756099998 L 8.16760165 128.558049971 M 229.0755358936328 128.558049971 L 229.0755358936328 143.259732941 L 243.7772188636328 143.259732941" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="31.036886269999997" y="151.42733459099995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">publish client and server info </text></g><g><g><rect fill="white" stroke="none" x="153.7312033187175" y="190.63182251099997" width="270.5410639196875" height="21.23576429"/></g><g><rect fill="white" stroke="none" x="153.7312033187175" y="206.96702581099996" width="237.1409632116797" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="156.18148381371748" y="205.33350548099995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">every 5 seconds: get clients and servers,</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="156.18148381371748" y="221.66870878099994" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">on publish of new device refresh list</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 452.03106030030597 228.20279010099998 L 128.69494414014974 228.20279010099998" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="6.53408132"/><g transform="translate(125.9724102568164,228.20279010099998) translate(-125.9724102568164,-228.20279010099998)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 139.58507967348308 221.39645539266664 L 125.9724102568164 228.20279010099998 L 139.58507967348308 235.00912480933331 Z"/></g></g><g><g><rect fill="white" stroke="none" x="145.30240082848312" y="252.70559505099996" width="287.3986689001562" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="147.7526813234831" y="267.40727802099997" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Get environment coefficients for default env</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 452.03106030030597 273.94135934099995 L 128.69494414014974 273.94135934099995" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="6.53408132"/><g transform="translate(125.9724102568164,273.94135934099995) translate(-125.9724102568164,-273.94135934099995)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 139.58507967348308 267.1350246326666 L 125.9724102568164 273.94135934099995 L 139.58507967348308 280.7476940493333 Z"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 348.4889470059896 298.44416429099994 L 540.8714906246224 298.44416429099994 L 555.5731735946224 313.1458472609999 L 555.5731735946224 336.01513188099995 L 348.4889470059896 336.01513188099995 L 348.4889470059896 298.44416429099994 M 540.8714906246224 298.44416429099994 L 540.8714906246224 313.1458472609999 L 555.5731735946224 313.1458472609999" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="371.35823162598956" y="321.3134489109999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">save information globally</text></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 323.6464253385091 404.6229857409999 L 565.7140122921029 404.6229857409999 L 580.4156952621029 419.3246687109999 L 580.4156952621029 621.8811896309999 L 323.6464253385091 621.8811896309999 L 323.6464253385091 404.6229857409999 M 565.7140122921029 404.6229857409999 L 565.7140122921029 419.3246687109999 L 580.4156952621029 419.3246687109999" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="346.5157099585091" y="427.4922703609999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Get measurements foreach </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="346.5157099585091" y="443.8274736609999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">server</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="346.5157099585091" y="460.1626769609999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"></text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="346.5157099585091" y="476.49788026099986" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Sort all by timestamp</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="346.5157099585091" y="492.83308356099985" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"></text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="346.5157099585091" y="509.16828686099984" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Get lowest RSSI measurement, </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="346.5157099585091" y="525.5034901609998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">find most recent counterparts</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="346.5157099585091" y="541.8386934609998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"></text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="346.5157099585091" y="558.1738967609998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Sort by RSSI</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="346.5157099585091" y="574.5091000609998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"></text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="346.5157099585091" y="590.8443033609998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">return three measurements with </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="346.5157099585091" y="607.1795066609998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">lowest RSSI</text></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 335.65431413245443 646.3839945809999 L 553.7061234981576 646.3839945809999 L 568.4078064681576 661.0856775509999 L 568.4078064681576 732.9605720709999 L 335.65431413245443 732.9605720709999 L 335.65431413245443 646.3839945809999 M 553.7061234981576 646.3839945809999 L 553.7061234981576 661.0856775509999 L 568.4078064681576 661.0856775509999" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="358.5235987524544" y="669.2532792009998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">convert RSSI to distances</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="358.5235987524544" y="685.5884825009998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"></text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="358.5235987524544" y="701.9236858009998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">-&gt; call distance triple handler</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="358.5235987524544" y="718.2588891009998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"></text></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 325.410928817513 781.966181971 L 563.949508813099 781.966181971 L 578.651191783099 796.667864941 L 578.651191783099 835.872352861 L 325.410928817513 835.872352861 L 325.410928817513 781.966181971 M 563.949508813099 781.966181971 L 563.949508813099 796.667864941 L 578.651191783099 796.667864941" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="348.280213437513" y="804.8354665909999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Run scipy.optimize to determine</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="348.280213437513" y="821.1706698909999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">optimal X, Y coordinates</text></g><g><g><rect fill="white" stroke="none" x="208.3267157088542" y="860.3751578109999" width="161.35003913941406" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="210.7769962038542" y="875.0768407809999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Save position in MySQL</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 452.03106030030597 881.6109221009999 L 128.69494414014974 881.6109221009999" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(125.9724102568164,881.6109221009999) translate(-125.9724102568164,-881.6109221009999)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 139.58507967348308 874.8045873926666 L 125.9724102568164 881.6109221009999 L 139.58507967348308 888.4172568093333 Z"/></g></g><g><g/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 315.4788236885091 360.51793683099993 L 588.5832969121028 360.51793683099993 L 588.5832969121028 757.4633770209999 L 315.4788236885091 757.4633770209999 L 315.4788236885091 360.51793683099993 Z" stroke-miterlimit="10" stroke-width="2.3336004714285714" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 315.4788236885091 360.51793683099993 L 315.4788236885091 380.12018079099994 L 423.79850702190754 380.12018079099994 L 433.59962900190754 370.31905881099993 L 433.59962900190754 360.51793683099993 L 315.4788236885091 360.51793683099993" stroke-miterlimit="10" stroke-width="2.3336004714285714" stroke-dasharray=""/><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="331.8140269885091" y="373.58609947099995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Every 500ms:</text></g></g><g/><g/></g></svg>